"use strict";(()=>{tippy("[data-tippy-content]");function v(){window.scrollTo(0,0)}window.addEventListener("DOMContentLoaded",i=>{function t(){let e=$("[tr-ajaxmodal-element='lightbox']"),c=$("[tr-ajaxmodal-element='lightbox-close']").attr("aria-label","Close Modal"),o=$("[tr-ajaxmodal-element='lightbox-modal']"),b="[tr-ajaxmodal-element='cms-link']",p="[tr-ajaxmodal-element='cms-page-content']",h=document.title,d=window.location.href,u;function m(n,s){o.empty(),document.title=n,window.history.replaceState({},"",s)}let l=gsap.timeline({paused:!0,onReverseComplete:()=>{u.focus(),m(h,d)},onComplete:()=>{c.focus()}});l.set("body",{overflow:"hidden"}),l.set(e,{display:"block",onComplete:()=>o.scrollTop(0)}),l.from(e,{opacity:0,duration:.2}),l.from(o,{y:"5em",duration:.2},"<");function y(){e.find("button, [href], input, select, textarea, [tabindex]:not([tabindex='-1'])").not(":disabled").not("[aria-hidden=true]").last().on("focusout",function(){c.focus()})}$(document).on("click",b,function(n){u=$(this),d=window.location.href,n.preventDefault();let s=$(this).attr("href");$.ajax({url:s,success:function(f){let g=$(f).find(p),x=$(f).filter("title").text(),S=window.location.origin+s;m(x,S),o.append(g),l.play(),y(),v(),document.querySelector("[data-show-more]").addEventListener("click",function(E){console.log("click"),document.querySelector("[data-cms-other]").classList.toggle("display-none"),this.classList.toggle("is-click")})}})}),c.on("click",function(){l.reverse()}),$(document).on("keydown",function(n){n.key==="Escape"&&l.reverse()}),$(document).on("click",e,function(n){$(n.target).is(e.find("*"))||l.reverse()})}t()});var F=document.querySelectorAll("[lb-radio-secteur]"),w=document.querySelectorAll("[lb-select-solution]"),a=document.querySelector("select[lb-select-solutions]"),C=document.querySelector("select[lb-select-secteur]"),k=document.querySelectorAll("[lb-text-select]"),L=document.querySelector("[lb-clear-solution]");select.addEventListener("change",()=>{let i=select.value;a.classList.add("display-none"),L.click(),w.forEach(t=>{let e=t.getAttribute("lb-select-solution");if(i!==e)t.style.display="none";else{a.classList.remove("display-none");for(let o=select.options.length-1;o>0;o--)a.remove(o);let c=t.querySelectorAll("[lb-solution-text]");r(c,a)}})});var r=(i,t)=>{i.forEach(e=>{let c=`<option value="${e.textContent}">${e.textContent}</option>`;t.insertAdjacentHTML("beforeend",c)})};r(k,C);var q=document.querySelector("[lb-select-regions]"),T=document.querySelectorAll("[lb-regions-text]");r(T,q);var M=document.querySelector("[data-filter-mobile]"),j=document.querySelector("[data-filter-div]");M.addEventListener("click",function(){j.classList.remove("display-none-ld");function i(){document.querySelector("#solutions").scrollIntoView({behavior:"smooth"})}i()});})();
